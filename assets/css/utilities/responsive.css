/* assets/css/utilities/responsive.css */

/* 全局防溢出设置 */
* {
    box-sizing: border-box;
}

html {
    overflow-x: hidden;
}

body {
    overflow-x: hidden;
    width: 100%;
    position: relative;
}

/* 防止所有容器溢出 */
.container,
.list-container,
.books-container,
.book-detail-container,
.chapter-container,
.explore-grid {
    max-width: 100%;
    overflow-x: hidden;
}

/* 防止图片溢出 */
img {
    max-width: 100%;
    height: auto;
}

/* 防止预格式化文本溢出 */
pre {
    max-width: 100%;
    overflow-x: auto;
}

/* 防止表格溢出 */
table {
    max-width: 100%;
    overflow-x: auto;
    display: block;
}

@media (max-width: 768px) {
    /* 移动端容器优化 - 激进地减少内边距 */
    .container {
        margin: 0;               /* 完全移除上下边距 */
        padding: 0.5rem 0.25rem; /* 极小的左右内边距 */
        border-radius: 0;
        box-shadow: none;
        max-width: 100%;         /* 确保100%宽度 */
    }

    /* 移动端blockquote优化 */
    blockquote {
        padding: 0.75rem 0.5rem;
        margin: 0.75rem 0;
        font-size: 0.9rem;
        border-left-width: 3px;  /* 减小左边框宽度 */
    }

    /* 导航覆盖层 */
    .nav-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 150;
        /* 默认隐藏状态 */
        opacity: 0;
        visibility: hidden;
        pointer-events: none;
        transition: opacity 0.3s ease, visibility 0.3s ease;
    }
    
    .nav-overlay.active {
        /* 激活状态 */
        opacity: 1;
        visibility: visible;
        pointer-events: auto;
    }

    /* 导航菜单 */
    .nav-menu {
        position: fixed;
        top: 0;
        right: -100%;
        width: 280px;
        height: 100vh;
        background: var(--white);
        flex-direction: column;
        align-items: stretch;
        gap: 0;
        padding: 5rem 2rem 2rem;
        box-shadow: -5px 0 20px rgba(0, 0, 0, 0.1);
        transition: right 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        z-index: 200;
        overflow-y: auto;
    }

    .nav-menu.active {
        right: 0;
    }

    /* 导航项 */
    .nav-item {
        width: 100%;
    }
    
    .nav-link {
        padding: 1rem;
        font-size: 1.1rem;
        border-radius: 0;
        border-bottom: 1px solid var(--border-color);
        word-break: break-word;
    }

    /* 主题切换按钮 */
    .theme-toggle {
        position: relative;
        z-index: 10;
    }

    /* 列表卡片 */
    .list-card {
        flex-direction: column;
        max-width: 100%;
    }
    
    .list-card-image-wrapper {
        width: 100%;
        height: 200px;
    }
    
    .list-card-content {
        padding: 1.25rem 1rem;
        width: 100%;
    }
    
    .list-card-title {
        font-size: 1.3rem;
        word-wrap: break-word;
        overflow-wrap: break-word;
    }

    /* 列表页头部 */
    .list-page-header {
        padding: 1.5rem 1rem;
        margin-bottom: 2rem;
        max-width: 100%;
    }

    /* 页面标题 */
    .page-title {
        font-size: 2rem;
        word-wrap: break-word;
        overflow-wrap: break-word;
    }
    
    .page-subtitle {
        font-size: 1rem;
        word-wrap: break-word;
    }

    /* Hero 区域 */
    .hero-tagline {
        font-size: 1.2rem;
        word-wrap: break-word;
        padding: 0 1rem;
    }

    /* 区块标题 */
    .section-title {
        font-size: 1.8rem;
        word-wrap: break-word;
    }

    /* 文章卡片 */
    .post-card-summary {
        font-size: 0.95rem;
        line-height: 1.6;
        word-wrap: break-word;
    }
    
    .post-title {
        font-size: 2.2rem;
        word-wrap: break-word;
        overflow-wrap: break-word;
    }

    /* 头部内容 */
    .header-content {
        padding: 1rem 1rem;
        width: 100%;
    }
    
    .site-title {
        font-size: 1.4rem;
        word-wrap: break-word;
    }
    
    .site-tagline {
        font-size: 0.75rem;
        word-wrap: break-word;
    }

    /* 个人介绍 */
    .intro-avatar {
        width: 100px;
        height: 100px;
    }
    
    .intro-name {
        font-size: 2rem;
        word-wrap: break-word;
    }
    
    .intro-description {
        font-size: 1rem;
        word-wrap: break-word;
        padding: 0 1rem;
    }
    
    .intro-button {
        padding: 0.6rem 1.5rem;
        font-size: 0.9rem;
    }

    /* 书籍网格 */
    .books-grid,
    .articles-grid {
        grid-template-columns: 1fr;
        gap: 1.5rem;
        padding: 0 0.5rem;
    }

    /* 书籍卡片 */
    .book-card,
    .article-card {
        max-width: 100%;
        margin: 0 auto;
    }

    /* 探索网格 */
    .explore-grid {
        grid-template-columns: 1fr;
        gap: 1.5rem;
        padding: 0 0.5rem;
    }

    .explore-card {
        max-width: 100%;
    }

    /* 书籍详情头部 */
    .book-detail-header {
        grid-template-columns: 1fr;
        gap: 2rem;
        padding: 1.5rem 1rem;
    }

    .book-cover-section {
        max-width: 250px;
        margin: 0 auto;
    }

    .book-detail-title {
        font-size: 1.75rem;
        word-wrap: break-word;
        overflow-wrap: break-word;
    }

    /* 信息行 */
    .info-row {
        flex-direction: column;
        gap: 0.5rem;
        align-items: flex-start;
    }

    .info-label {
        min-width: auto;
    }

    .info-value {
        word-wrap: break-word;
        overflow-wrap: break-word;
    }

    /* 章节容器 */
    .chapter-container {
        padding: 1.5rem 1rem;
        max-width: 100%;
    }

    .chapter-title {
        font-size: 1.75rem;
        word-wrap: break-word;
        overflow-wrap: break-word;
    }

    .chapter-content {
        padding: 2rem 1rem;
        font-size: 1rem;
        line-height: 1.8;
        max-width: 100%;
        overflow-x: hidden;
    }

    /* 章节导航 */
    .chapter-navigation {
        grid-template-columns: 1fr;
        gap: 1rem;
    }

    .nav-button {
        justify-self: stretch !important;
    }

    .nav-link {
        min-width: auto;
        max-width: 100%;
    }

    .nav-title {
        word-wrap: break-word;
        overflow-wrap: break-word;
    }

    /* 面包屑导航 */
    .breadcrumb-nav {
        font-size: 0.85rem;
        padding: 0.75rem 0.5rem;
        overflow-x: auto;
        white-space: nowrap;
    }

    /* 元信息 */
    .meta-primary,
    .chapter-meta {
        flex-wrap: wrap;
        gap: 0.75rem;
    }

    /* 内容区域 */
    .book-summary-section,
    .book-content-section,
    .book-chapters-section {
        padding: 1.5rem 1rem;
        max-width: 100%;
    }

    .content-wrapper {
        max-width: 100%;
        margin: 0 auto;
    }

    /* 章节列表 */
    .chapter-link {
        flex-direction: raw;
        align-items: flex-start;
        gap: 0.75rem;
        padding: 1rem;
        font-size: 0.8rem;
    }

    .chapter-title {
        word-wrap: break-word;
        overflow-wrap: break-word;
    }

    .chapter-arrow {
        align-self: flex-end;
    }
}
@media (min-width: 768px) {
    .content-wrapper {
        max-width: 1000px; /* 从800px增加到1000px，正文更宽敞 */
        background: transparent;
        padding: 2.5rem 1rem;
    }
}
@media (max-width: 767px) {
    .content-wrapper {
        background: transparent;
        padding: 0;        /* 完全移除padding */
        max-width: 100%;
        margin: 0;
    }

    /* 移动端文章内容优化 */
    .content-wrapper h1,
    .content-wrapper h2,
    .content-wrapper h3 {
        font-size: 1.5rem;
    }

    .content-wrapper p,
    .content-wrapper li {
        font-size: 1rem;
        line-height: 1.8;
    }

    /* 移除不必要的边距 */
    .content-wrapper > *:first-child {
        margin-top: 0;
    }
}
/* 超小屏幕优化 */
@media (max-width: 480px) {
    body {
        font-size: 14px;
    }

    /* 超小屏幕进一步优化容器 */
    .container {
        margin: 0;
        padding: 0.25rem 0.15rem; /* 极致压缩 */
    }

    .content-wrapper {
        padding: 0;
        margin: 0;
    }

    /* 超小屏幕文章内容内边距 */
    .post-content {
        padding: 0.5rem 0.25rem;
    }

    .nav-menu {
        width: 100%;
        right: -100%;
        padding: 4rem 1rem 2rem;
    }
    
    .page-title {
        font-size: 1.5rem;
    }
    
    .post-title {
        font-size: 1.6rem;
    }
    
    .hero-tagline {
        font-size: 1rem;
    }
    
    .section-title {
        font-size: 1.5rem;
    }

    .book-detail-title,
    .chapter-title {
        font-size: 1.5rem;
    }

    /* 更小的内边距 */
    .list-container,
    .books-container,
    .book-detail-container,
    .chapter-container {
        padding: 1rem 0.5rem;
    }

    .book-summary-section,
    .book-content-section,
    .book-chapters-section,
    .chapter-content {
        padding: 1rem 0.75rem;
    }

    /* 更紧凑的章节导航 */
    .chapter-navigation {
        gap: 0.75rem;
    }

    .chapter-link {
        padding: 0.75rem;
    }

    /* 更紧凑的卡片 */
    .book-card,
    .article-card {
        margin: 0;
    }

    .book-info,
    .article-content {
        padding: 1rem;
    }

    /* 面包屑更紧凑 */
    .breadcrumb-nav {
        padding: 0.5rem;
        font-size: 0.8rem;
    }

    /* 减小图标大小 */
    .meta-icon {
        font-size: 0.75rem;
    }
}
