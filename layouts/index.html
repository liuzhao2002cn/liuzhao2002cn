{{ define "main" }}
<div id="particles-js"></div>
<section class="hero">
    <div class="hero-background">
        <div class="hero-shape shape-1"></div>
        <div class="hero-shape shape-2"></div>
        <div class="hero-shape shape-3"></div>
        <div class="hero-shape shape-4"></div>
    </div>
    <div class="hero-content personal-intro">
        <div class="floating-elements">
            <div class="floating-element element-1">âœ¨</div>
            <div class="floating-element element-2">ğŸš€</div>
            <div class="floating-element element-3">ğŸ’«</div>
            <div class="floating-element element-4">ğŸŒŸ</div>
        </div>
        <div class="avatar-container">
            <img src="/images/avatar.png" alt="ä¸ªäººå¤´åƒ" class="intro-avatar">
            <div class="avatar-glow"></div>
        </div>
        <div class="name-title-wrapper">
            <h1 class="intro-name">{{ .Site.Params.author | default .Site.Title }}</h1>
            <div class="title-tags">
                <span class="title-tag">ç”Ÿæ´»</span>
                <span class="title-tag">çŸ¥è¯†</span>
                <span class="title-tag">å¿ƒå¾—</span>
            </div>
        </div>
        <div class="typewriter-container">
            <p class="intro-description" id="typewriter-text"></p>
            <span class="typewriter-cursor">|</span>
        </div>
        <div class="stats-container">
            <div class="stat-item"><div class="stat-number" id="post-count">0</div><div class="stat-label">æ–‡ç« </div></div>
            <div class="stat-item"><div class="stat-number" id="tag-count">0</div><div class="stat-label">æ ‡ç­¾</div></div>
            <div class="stat-item"><div class="stat-number" id="category-count">0</div><div class="stat-label">åˆ†ç±»</div></div>
        </div>
        <div class="intro-socials">
            {{ with .Site.Params.github }}
            <a href="{{ . }}" target="_blank" rel="noopener" class="social-icon" title="GitHub">
                <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M12 0c-6.626 0-12 5.373-12 12..."/></svg>
            </a>{{ end }}
            {{ with .Site.Params.email }}
            <a href="mailto:{{ . }}" class="social-icon" title="é‚®ç®±">
                <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M20 4H4c-1.1 0-1.99.9-1.99 2..."/></svg>
            </a>{{ end }}
            {{ with .Site.Params.bilibili }}
            <a href="{{ . }}" target="_blank" rel="noopener" class="social-icon" title="Bilibili">
                <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M17.813 4.653h.854c1.51..."/></svg>
            </a>{{ end }}
            {{ with .Site.Params.douban }}
            <a href="{{ . }}" target="_blank" rel="noopener" class="social-icon" title="è±†ç“£">
                <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M12 0C5.373 0 0 5.373 0 12..."/></svg>
            </a>{{ end }}
            {{ with .Site.Params.facebook }}
            <a href="{{ . }}" target="_blank" rel="noopener" class="social-icon" title="Facebook">
                <svg viewBox="0 0 24 24" width="24" height="24"><path fill="currentColor" d="M24 12.073c0-6.627-5.373-12..."/></svg>
            </a>{{ end }}
        </div>
        <div class="intro-buttons">
            <a href="/explore/" class="intro-button primary"><span>æ¢ç´¢åšå®¢</span><svg viewBox="0 0 24 24" width="18" height="18"><path fill="currentColor" d="M10 6L8.59 7.41..."/></svg></a>
            <a href="/about/" class="intro-button secondary"><span>å…³äºæˆ‘</span><svg viewBox="0 0 24 24" width="18" height="18"><path fill="currentColor" d="M12 2C6.48 2..."/></svg></a>
        </div>
    </div>
    <div class="scroll-indicator"><div class="scroll-arrow"></div><span>å‘ä¸‹æ»šåŠ¨</span></div>
</section>
<section class="features-section">
    <div class="container">
        <div class="features-grid">
            <a href="/note/" class="feature-card-link"><div class="feature-card"><div class="feature-icon">ğŸ“š</div><h3>è¯»ä¹¦ç¬”è®°</h3><p>åˆ†äº«æœ€è¿‘å­¦æ€çš„å¿ƒå¾—ã€ä½“ä¼šä¸è¯„ä»·ï¼ˆä»¥åŠæŸäº›å–œæ¬¢çš„æ–‡ç« çš„ç¿»è¯‘ï¼‰</p></div></a>
            <a href="/opinion/" class="feature-card-link"><div class="feature-card"><div class="feature-icon">ğŸ¨</div><h3>ä¸ªäººè¯„è®º</h3><p>åˆ†äº«æœ€è¿‘ä¸ªäººå…³äºä¸–ç•Œçš„ç‹¬ç«‹æ€ç´¢ä¸æƒ³æ³•ã€æ—¶é—»ä¸–è®ºä¸ªäººæµ…è§</p></div></a>
            <a href="/life/" class="feature-card-link"><div class="feature-card"><div class="feature-icon">ğŸŒ</div><h3>è§é—»æ„Ÿå—</h3><p>å­¦ä¹ ç”Ÿæ´»ï¼Œåˆ†äº«ï¼ˆå€¾å€’ï¼‰æœ‰å…³â€œç”Ÿæ´»â€çš„å…·èº«ç»å†ä¸çç¢æ„Ÿå—</p></div></a>
        </div>
    </div>
</section>
{{ $pages := where .Site.RegularPages "Type" "posts" }}
<section class="featured-posts">
    <div class="container">
        <div class="section-header"><h2 class="section-title"><span class="title-icon">âœ¨</span><span class="title-text">ç²¾é€‰æ–‡ç« </span><span class="title-decoration"></span></h2><p class="section-subtitle">æ¢ç´¢æœ€å—æ¬¢è¿çš„å†…å®¹</p></div>
        <div class="post-grid">
            {{ $featured := where $pages "Params.featured" true }}
            {{ $displayPosts := $featured | default $pages }}
            {{ range first 3 $displayPosts }}
            {{ $post := . }}
            <a href="{{ .Permalink }}" class="post-card-link">
                <article class="post-card">
                    {{ with .Params.image }}
                    <div class="post-card-image-wrapper">
                        {{ if $post.Resources.GetMatch . }}
                        {{ with $post.Resources.GetMatch . }}
                        {{ $image := .Resize "800x webp q75" }}
                        {{ $fallback := .Resize "800x q75" }}
                        <picture><source srcset="{{ $image.RelPermalink }}" type="image/webp"><img src="{{ $fallback.RelPermalink }}" width="{{ $fallback.Width }}" height="{{ $fallback.Height }}" alt="{{ $post.Title }}" class="post-card-image" loading="lazy"></picture>
                        {{ end }}
                        {{ else }}
                        <img src="{{ . | relURL }}" alt="{{ $post.Title }}" class="post-card-image" loading="lazy">
                        {{ end }}
                        <div class="image-overlay"><span class="read-more-hint">é˜…è¯»å…¨æ–‡ â†’</span></div>
                    </div>
                    {{ end }}
                    <div class="post-card-content">
                        <h3 class="post-card-title">{{ $post.Title }}</h3>
                        <p class="post-card-summary">{{ $post.Summary | plainify | truncate 100 }}</p>
                        <div class="post-card-meta"><span class="meta-icon">ğŸ“…</span><span class="post-card-date">{{ $post.Date.Format "2006-01-02" }}</span><span class="meta-divider">Â·</span><span class="meta-icon">â±ï¸</span><span class="post-card-reading-time">{{ $post.ReadingTime }} åˆ†é’Ÿ</span></div>
                        {{ with $post.Params.tags }}
                        <div class="post-card-tags">{{ range first 3 . }}<span class="tag">#{{ . }}</span>{{ end }}</div>
                        {{ end }}
                    </div>
                </article>
            </a>
            {{ else }}
            <div class="empty-state"><div class="empty-icon">ğŸ“</div><p class="empty-text">æš‚æ— ç²¾é€‰æ–‡ç« ,æ•¬è¯·æœŸå¾…!</p></div>
            {{ end }}
        </div>
    </div>
</section>
<section class="recent-posts">
    <div class="container">
        <div class="section-header"><h2 class="section-title"><span class="title-icon">â³</span><span class="title-text">æœ€æ–°å‘å¸ƒ</span><span class="title-decoration"></span></h2><p class="section-subtitle">æœ€è¿‘æ›´æ–°çš„æ–‡ç« åˆ—è¡¨</p></div>
        <ul class="recent-post-list">
            {{ range first 5 $pages }}
            <li class="recent-post-item">
                <a href="{{ .Permalink }}" class="recent-post-link">
                    <div class="recent-post-main"><span class="recent-post-indicator"></span><span class="recent-post-title">{{ .Title }}</span></div>
                    <div class="recent-post-info">
                        {{ with .Params.categories }}<span class="recent-post-category">{{ index . 0 }}</span>{{ end }}
                        <span class="recent-post-date">{{ .Date.Format "Jan 2" }}</span>
                    </div>
                </a>
            </li>
            {{ end }}
        </ul>
        <div class="view-all-wrapper"><a href="/posts/" class="view-all-link"><span>æŸ¥çœ‹æ‰€æœ‰æ–‡ç« </span><svg viewBox="0 0 24 24" width="18" height="18"><path fill="currentColor" d="M8.59 16.59L13.17 12 8.59 7.41..."/></svg></a></div>
    </div>
</section>
<script>
document.addEventListener('DOMContentLoaded',function(){
    if(typeof particlesJS!=='undefined'){particlesJS('particles-js',{particles:{number:{value:80,density:{enable:true,value_area:800}},color:{value:"#6C63FF"},shape:{type:"circle"},opacity:{value:0.5,random:true},size:{value:3,random:true},line_linked:{enable:true,distance:150,color:"#6C63FF",opacity:0.2,width:1},move:{enable:true,speed:2,direction:"none",random:true,straight:false,out_mode:"out",bounce:false}},interactivity:{detect_on:"canvas",events:{onhover:{enable:true,mode:"repulse"},onclick:{enable:true,mode:"push"},resize:true}}});}
    const typewriterText=document.getElementById('typewriter-text');
    const texts=["{{ .Site.Params.description }}","å‚¨å­˜æ€æƒ³ä¸ç”Ÿæ´»æ„Ÿæ‚Ÿ","è®°å½•æ¢ç´¢ä¸åšæŒå†ç¨‹","åˆ†äº«æ±‚çŸ¥ä¸å­¦ä¹ ç»éªŒ"];
    let textIndex=0,charIndex=0,isDeleting=false;
    function typeWriter(){const currentText=texts[textIndex];if(isDeleting){typewriterText.textContent=currentText.substring(0,charIndex-1);charIndex--;}else{typewriterText.textContent=currentText.substring(0,charIndex+1);charIndex++;}if(!isDeleting&&charIndex===currentText.length){setTimeout(()=>isDeleting=true,2000);}else if(isDeleting&&charIndex===0){isDeleting=false;textIndex=(textIndex+1)%texts.length;}setTimeout(typeWriter,isDeleting?50:100);}
    setTimeout(typeWriter,1000);
    function animateNumber(element,target,duration=2000){let start=0;const increment=target/(duration/16);const timer=setInterval(()=>{start+=increment;if(start>=target){element.textContent=target;clearInterval(timer);}else{element.textContent=Math.floor(start);}},16);}
    setTimeout(()=>{animateNumber(document.getElementById('post-count'),{{ len $pages }});animateNumber(document.getElementById('tag-count'),15);animateNumber(document.getElementById('category-count'),8);},1500);
});
</script>
{{ end }}
