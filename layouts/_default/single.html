{{ define "main" }}
<article class="post-single" data-pagefind-body>
    <div class="container">
        <div class="content-wrapper">
            <!-- æ–‡ç« å¤´éƒ¨ -->
            <header class="post-header">
                <h1 class="post-title" data-pagefind-meta="title">{{ .Title }}</h1>
                
                <div class="post-meta">
                    <span class="meta-item">
                        <span class="meta-icon">ğŸ“…</span>
                        <time datetime="{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}">
                            {{ .Date.Format "2006å¹´1æœˆ2æ—¥" }}
                        </time>
                    </span>
                    
                    {{ with .Params.categories }}
                    <span class="meta-divider">Â·</span>
                    <span class="meta-item">
                        <span class="meta-icon">ğŸ“</span>
                        {{ range . }}
                        <a href="{{ "/categories/" | relURL }}{{ . | urlize }}/" class="meta-link">{{ . }}</a>
                        {{ end }}
                    </span>
                    {{ end }}
                    
                    <span class="meta-divider">Â·</span>
                    <span class="meta-item">
                        <span class="meta-icon">â±ï¸</span>
                        {{ .ReadingTime }} åˆ†é’Ÿ
                    </span>
                    
                    {{ if .WordCount }}
                    <span class="meta-divider">Â·</span>
                    <span class="meta-item">
                        <span class="meta-icon">ğŸ“</span>
                        {{ .WordCount }} å­—
                    </span>
                    {{ end }}
                </div>
            </header>

            <!-- ç›®å½•ï¼ˆæŠ˜å å¼ï¼‰ -->
            {{ if .TableOfContents }}
            <details class="toc-container" id="toc" open>
                <summary class="toc-title">
                    <span class="toc-icon">ğŸ“‘</span>
                    <span class="toc-text">ç›®å½•</span>
                    <span class="toc-toggle">â–¼</span>
                </summary>
                <div class="toc-content">
                    {{ .TableOfContents }}
                </div>
            </details>
            {{ end }}

            <!-- æ–‡ç« æ­£æ–‡ -->
            <div class="post-content">
                {{ .Content }}
            </div>

            <!-- æ–‡ç« åº•éƒ¨ -->
            <footer class="post-footer">
                <!-- æ ‡ç­¾ -->
                {{ with .Params.tags }}
                <div class="post-tags">
                    <span class="tags-label">æ ‡ç­¾ï¼š</span>
                    {{ range . }}
                    <a href="{{ "/tags/" | relURL }}{{ . | urlize }}/" class="tag-link">#{{ . }}</a>
                    {{ end }}
                </div>
                {{ end }}

                <!-- åˆ†äº«æŒ‰é’® -->
                {{ partial "share.html" . }}

                <!-- ä¸Šä¸€ç¯‡/ä¸‹ä¸€ç¯‡ -->
                <nav class="post-navigation">
                    {{ with .PrevInSection }}
                    <a href="{{ .Permalink }}" class="nav-link nav-prev" title="{{ .Title }}">
                        <span class="nav-arrow">â†</span>
                        <span class="nav-text">
                            <span class="nav-label">ä¸Šä¸€ç¯‡</span>
                            <span class="nav-title">{{ .Title }}</span>
                        </span>
                    </a>
                    {{ end }}
                    
                    {{ with .NextInSection }}
                    <a href="{{ .Permalink }}" class="nav-link nav-next" title="{{ .Title }}">
                        <span class="nav-text">
                            <span class="nav-label">ä¸‹ä¸€ç¯‡</span>
                            <span class="nav-title">{{ .Title }}</span>
                        </span>
                        <span class="nav-arrow">â†’</span>
                    </a>
                    {{ end }}
                </nav>
            </footer>
        </div>
    </div>

    <!-- ç›¸å…³æ–‡ç«  -->
    {{ partial "related.html" . }}

    <!-- è¯„è®º -->
    {{ partial "comments.html" . }}
</article>

<!-- å›ºå®šç›®å½• -->
{{ partial "fixed-toc.html" . }}

<!-- é˜…è¯»è¿›åº¦æŒ‡ç¤ºå™¨ -->
{{ partial "reading-progress.html" . }}

<!-- å­—ä½“å¤§å°è°ƒèŠ‚å™¨ -->
{{ partial "font-size-controller.html" . }}
{{ end }}
