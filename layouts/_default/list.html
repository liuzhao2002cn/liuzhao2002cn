{{ define "main" }}
    <!-- 动态页面标题 -->
    <div class="list-page-header">
        {{ if .IsHome }}
            <h1 class="page-title">所有文章</h1>
        {{ else if eq .Type "tags" }}
            <h1 class="page-title">标签: <span class="term-name">{{ .Title }}</span></h1>
        {{ else if eq .Type "categories" }}
            <h1 class="page-title">分类: <span class="term-name">{{ .Title }}</span></h1>
        {{ else }}
            <h1 class="page-title">{{ .Title }}</h1>
        {{ end }}
        <p class="page-subtitle">共 {{ len .Pages }} 篇文章</p>
    </div>

    <div class="list-container">
        <!-- 使用 Hugo 的分页器，每页显示 5 篇文章 -->
        {{ $paginator := .Paginate .Pages 5 }}
        {{ range $paginator.Pages }}
        <a href="{{ .Permalink }}" class="list-card-link">
            <article class="list-card">
                <!-- 左侧：封面图 -->
                {{ with .Params.image }}
                <div class="list-card-image-wrapper">
                    <!-- 修正：使用 $.Title 来引用页面的标题作为 alt 文本 -->
                    <img src="{{ . | relURL }}" alt="{{ $.Title }}" class="list-card-image" loading="lazy">
                </div>
                {{ end }}
                
                <!-- 右侧：文章信息 -->
                <div class="list-card-content">
                    <h2 class="list-card-title">{{ .Title }}</h2>
                    <p class="list-card-summary">{{ .Summary | plainify | truncate 120 }}</p>
                    <div class="list-card-meta">
                        <span class="meta-item date">{{ .Date.Format "2006-01-02" }}</span>
                        <span class="meta-item reading-time">· {{ .ReadingTime }} 分钟阅读</span>
                    </div>
                    {{ with .Params.tags }}
                    <div class="list-card-tags">
                        {{ range first 3 . }}
                        <span class="tag">{{ . }}</span>
                        {{ end }}
                    </div>
                    {{ end }}
                </div>
            </article>
        </a>
        {{ end }}
    </div>

    <!-- 引入分页导航模板 -->
    {{ partial "pagination.html" . }}

{{ end }}
