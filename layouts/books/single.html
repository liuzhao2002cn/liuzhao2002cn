{{ define "main" }}
<div class="book-detail-container">
    <!-- ä¹¦ç±å®Œæ•´ä¿¡æ¯ -->
    <div class="book-detail">
        <div class="book-detail-header">
            <div class="book-cover-section">
                {{ if .Params.cover }}
                    {{ with .Resources.GetMatch .Params.cover }}
                        <img src="{{ .RelPermalink }}" alt="{{ $.Title }}" class="book-cover-large" loading="lazy">
                    {{ else }}
                        <div class="book-cover-placeholder">
                            <span class="placeholder-icon">ðŸ“–</span>
                        </div>
                    {{ end }}
                {{ else }}
                    <div class="book-cover-placeholder">
                        <span class="placeholder-icon">ðŸ“–</span>
                    </div>
                {{ end }}
            </div>
            
            <div class="book-detail-info">
                <h1 class="book-detail-title">{{ .Title }}</h1>
                
                <div class="book-detail-meta">
                    {{ with .Params.book_author }}
                    <div class="detail-meta-item">
                        <span class="detail-meta-label">ä½œè€…</span>
                        <span class="detail-meta-value">{{ . }}</span>
                    </div>
                    {{ end }}
                    
                    {{ with .Params.translator }}
                    <div class="detail-meta-item">
                        <span class="detail-meta-label">è¯‘è€…</span>
                        <span class="detail-meta-value">{{ . }}</span>
                    </div>
                    {{ end }}
                    
                    {{ with .Params.publisher }}
                    <div class="detail-meta-item">
                        <span class="detail-meta-label">å‡ºç‰ˆç¤¾</span>
                        <span class="detail-meta-value">{{ . }}</span>
                    </div>
                    {{ end }}
                    
                    {{ with .Params.year }}
                    <div class="detail-meta-item">
                        <span class="detail-meta-label">å‡ºç‰ˆå¹´</span>
                        <span class="detail-meta-value">{{ . }}</span>
                    </div>
                    {{ end }}
                    
                    {{ with .Params.pages }}
                    <div class="detail-meta-item">
                        <span class="detail-meta-label">é¡µæ•°</span>
                        <span class="detail-meta-value">{{ . }}</span>
                    </div>
                    {{ end }}
                    
                    {{ with .Params.isbn }}
                    <div class="detail-meta-item">
                        <span class="detail-meta-label">ISBN</span>
                        <span class="detail-meta-value">{{ . }}</span>
                    </div>
                    {{ end }}
                </div>
                
                {{ with .Params.summary }}
                <div class="book-summary">
                    <p>{{ . }}</p>
                </div>
                {{ end }}
            </div>
        </div>
    </div>

    <!-- ç« èŠ‚åˆ—è¡¨ -->
    {{ $chapters := .Pages.ByWeight }}
    {{ if $chapters }}
    <div class="chapters-section">
        <h2 class="chapters-title">ç›®å½•</h2>
        <ul class="chapters-list">
            {{ range $chapters }}
            <li class="chapter-item">
                <a href="{{ .Permalink }}" class="chapter-link">
                    {{ with .Weight }}
                    <span class="chapter-number">ç¬¬ {{ . }} ç« </span>
                    {{ end }}
                    <span class="chapter-title">{{ .Title }}</span>
                    <span class="chapter-arrow">â†’</span>
                </a>
            </li>
            {{ end }}
        </ul>
    </div>
    {{ else }}
    <div class="chapters-section">
        <div class="empty-chapters">
            <div class="empty-icon">ðŸ“‘</div>
            <p class="empty-text">æš‚æ— ç« èŠ‚å†…å®¹</p>
        </div>
    </div>
    {{ end }}
</div>
{{ end }}
