{{ define "main" }}
<div class="books-container">
    <div class="books-header">
        <h1 class="books-title">ğŸ“š ä¹¦æ¶</h1>
        <p class="books-subtitle">å­¦ä¹ ã€å­¦ä¹ ã€å†å­¦ä¹ </p>
    </div>
    
    {{ $pages := .Sections }}
    {{ if $pages }}
    <div class="books-grid">
        {{ range $pages }}
        <article class="book-card">
            <a href="{{ .Permalink }}" class="book-link">
                <div class="book-cover-wrapper">
                    {{ if .Params.cover }}
                        {{ with .Resources.GetMatch .Params.cover }}
                            <img src="{{ .RelPermalink }}" alt="{{ $.Title }}" class="book-cover" loading="lazy">
                        {{ else }}
                            <div class="book-fallback">
                                <span class="book-fallback-icon">ğŸ“–</span>
                                <span class="book-fallback-title">{{ .Title }}</span>
                            </div>
                        {{ end }}
                    {{ else }}
                        <div class="book-fallback">
                            <span class="book-fallback-icon">ğŸ“–</span>
                            <span class="book-fallback-title">{{ .Title }}</span>
                        </div>
                    {{ end }}
                </div>
                <div class="book-info">
                    <h2 class="book-title">{{ .Title }}</h2>
                    <div class="book-meta">
                        {{ with .Params.book_author }}
                        <div class="book-meta-item">
                            <span class="meta-label">ä½œè€…</span>{{ . }}
                        </div>
                        {{ end }}
                        {{ with .Params.publisher }}
                        <div class="book-meta-item">
                            <span class="meta-label">å‡ºç‰ˆç¤¾</span>{{ . }}
                        </div>
                        {{ end }}
                        {{ with .Params.year }}
                        <div class="book-meta-item">
                            <span class="meta-label">å‡ºç‰ˆå¹´</span>{{ . }}
                        </div>
                        {{ end }}
                    </div>
                </div>
            </a>
        </article>
        {{ end }}
    </div>
    {{ else }}
    <div class="empty-state">
        <div class="empty-icon">ğŸ“š</div>
        <h2 class="empty-title">ä¹¦æ¶ç©ºç©ºå¦‚ä¹Ÿ</h2>
        <p class="empty-description">æš‚æ—¶è¿˜æ²¡æœ‰ä½œå“ï¼Œæ•¬è¯·æœŸå¾…</p>
    </div>
    {{ end }}
</div>
{{ end }}
